{% comment %}
  <link
    rel="stylesheet"
    href="{{ 'component-floating-order-button.css' | asset_url }}"
    media="print"
    onload="this.media='all'"
  >
{% endcomment %}
<style>
  /*------------------------------------*\
    #Floating Order Button Component
\*------------------------------------*/

  floating-order-button {
    position: fixed;
    bottom: 0;
    right: 0;
    z-index: 1;
    margin-right: 0;
    margin-bottom: var(--level2);
    display: block;
    opacity: 0;
    transition: all 0.4s ease-in-out 0.6s;
  }

  @media screen and (min-width: 940px) {
    floating-order-button {
      margin-right: var(--level4);
      margin-bottom: var(--level5);
    }
  }

  floating-order-button.is-visible {
    opacity: 1;
  }

  .floating-order-button__inner {
    position: relative;
    display: block;
    width: 7rem;
    height: 7rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @media screen and (min-width: 700px) {
    .floating-order-button__inner {
      width: 8rem;
      height: 8rem;
    }
  }

  .floating-order-button__flower-graphic {
    width: 100%;
    height: 100%;
  }

  .floating-order-button__text {
    position: absolute;
    text-transform: uppercase;
    font-size: var(--micro);
    padding: 0.15rem;
    margin-bottom: var(--level3);
    background-color: rgb(var(--color-base-background-1));
    opacity: 0;
    transition: all 0.2s ease-in-out;
  }

  .floating-order-button__inner.is-order-state .floating-order-button__text {
    opacity: 1;
  }

  .floating-order-button__inner:hover .floating-order-button__text,
  .floating-order-button__inner:focus .floating-order-button__text {
    opacity: 1;
    text-decoration: underline;
  }
</style>

{% if section.settings.is_active == true %}
  <floating-order-button>
    <a
      data-order-link
      href="{{ section.settings.button__link }}"
      title="Go to Ajornada product page"
      class="floating-order-button__inner"
    >
      <svg class="floating-order-button__flower-graphic">
        <use href="#illust-flower-default"/>
      </svg>
      <span class="floating-order-button__text">
        {{ section.settings.button_text }}
      </span>
    </a>
  </floating-order-button>
{% endif %}

<script src="{{ 'floating-order-button.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Floating Order Button",
  "templates": ["index", "page", "article", "blog"],
  "tag": "aside",
  "settings": [
    {
      "type": "text",
      "label": "Button Text",
      "id": "button_text",
      "default": "Order",
      "info": "Text to display on the button."
    },
    {
      "type": "url",
      "label": "Link Field",
      "id": "button_link",
      "info": "URL to link when the button is clicked."
    },
    {
      "type": "checkbox",
      "label": "Activate Order Button",
      "id": "is_active",
      "default": true,
      "info": "If checked, this will have the button appear on the page."
    }
  ],
  "presets": [
    {
      "name": "Floating Order Button"
    }
  ]
}
{% endschema %}
